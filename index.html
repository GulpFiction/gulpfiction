<!doctype html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <title>Gulp Fiction</title>
        <link rel="stylesheet" href="app.css" />
        <script>
          (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
          (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
          m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
          })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

          ga('create', 'UA-50413332-1', 'divshot.io');
          ga('send', 'pageview');

        </script>
        <script type="text/javascript" src="//cdnjs.cloudflare.com/ajax/libs/zeroclipboard/1.1.7/ZeroClipboard.min.js"></script>
        <script type="text/javascript">
          (function(d) {
            var config = {
              kitId: 'spc1sua',
              scriptTimeout: 3000
            },
            h=d.documentElement,t=setTimeout(function(){h.className=h.className.replace(/\bwf-loading\b/g,"")+" wf-inactive";},config.scriptTimeout),tk=d.createElement("script"),f=false,s=d.getElementsByTagName("script")[0],a;h.className+=" wf-loading";tk.src='//use.typekit.net/'+config.kitId+'.js';tk.async=true;tk.onload=tk.onreadystatechange=function(){a=this.readyState;if(f||a&&a!="complete"&&a!="loaded")return;f=true;clearTimeout(t);try{Typekit.load(config)}catch(e){}};s.parentNode.insertBefore(tk,s)
          })(document);
        </script>
        <script src="components.js"></script>
        <script src="app.js"></script>
        <script src="views.js"></script>
        <link rel="icon" type="image/gif" href="/img/logo2.gif?v=2" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
    </head>

    <body ng-app="app" ng-controller="appController" ng-class="{'show-help': showsHelp }">
        <keyup-events></keyup-events>
        <header>

            <h1>
                <a ng-click="showsTeaser = true;">
                    <div class="logo">
                        <img src="/img/logo2.gif">
                        <span class="gulp">Gulp</span>
                        <span class="fiction">Fiction</span>
                    </div>
                </a>
            </h1>

            <project-picker projects="projects" current-project="project" on-switch-project="switchToProject(project)"></project-picker>

            <div class="options">
                <div class="options-project"
                data-tooltip="Project Actions"
                data-tooltip-options="left only-help">
                    <button ng-click="confirmDeleteProject()"
                            data-tooltip-options="oneline bottom"
                            data-tooltip="Remove project"
                            data-tooltip-options="oneline">
                        <i class="fa fa-times-circle"></i>
                    </button>

                    <button ng-click="openExportProject(project)"
                            data-tooltip-options="oneline bottom"
                            data-tooltip="Export gulpfile.js"
                            data-tooltip-options="oneline">
                        <i class="fa fa-floppy-o"></i>
                    </button>

                    <button ng-click="openExportToDropbox(project)"
                            data-tooltip-options="oneline bottom"
                            data-tooltip="Export gulpfile.js to Dropbox"
                            data-tooltip-options="oneline">
                        <i class="fa fa-dropbox"></i>
                    </button>
                </div>

                <div class="options-app"
                        data-tooltip="App Actions"
                        data-tooltip-options="bottom only-help oneline">
                    <button ng-click="addProject()" data-tooltip-options="oneline bottom" data-tooltip="Add project">
                        <i class="fa fa-plus-circle"></i>
                    </button>
                    <button ng-click="toggleHelp()">
                        <i class="fa fa-question-circle"></i>
                    </button>
                </div>
            </div>
        </header>

        <div ng-view class="maincontent"></div>

        <lightbox is-active="showsTeaser"
                show-close="true"
                class="teaser"
                on-close="closeTeaser()"
                show-big-close="true"
                custom-width="600">
            <div class="teaser-heading">
                <div class="logo">
                    <img src="/img/logo2.gif">
                    <span class="gulp">Gulp</span>
                    <span class="fiction">Fiction</span>
                </div>
                <p>The Royale With Cheese for you build workflow.</p>
            </div>

            <ul>
                <li>Easy <b>visual editing</b> of your gulp file!</li>
                <li>Export your generated gulp file to your <b>Dropbox account</b> or <b>copy it</b>!</li>
                <li><b>Search</b> for steps and build tasks within the <b>npm repository</b>!</li>
            </ul>

            <p>
                If you are a front-end developer like we are you might love setting up
                and maintaining the build workflow like we do. <i>Not at all</i>. Fiddeling
                around with <i>grunt</i> or the new and fancy <i>gulp.js</i> config files is
                no fun so a lot of boilerplates were set up to help you. This is another
                approach to enable you to <b>shorten the build setup</b> with a graphical user interface for <b>automatic gulp.js creation</b> and file upload for <b>dropbox</b>
                or <b>direct download</b>.
            </p>

            <p>
                If you haven't heard of <a href="http://gulpjs.com/">gulp.js</a> &mdash; it's
                like grunt just <i>a lot</i> faster.
                If you haven't heard of grunt... well... nice weather out there, isn't it?
            </p>

            <p>
                Supported by <a href="http://www.divshot.com/">DIVSHOT</a> - Static web hosting for developers
            </p>


            <div class="credits authors">
                <h2>
                    <span>credits</span>
                </h2>

                <a href="https://github.com/damienklinnert"
                        data-tooltip="Damien Klinnert"
                        data-tooltip-options="oneline">
                    <img src="img/credits/damien.jpg" alt="Damien Klinnert">
                </a>
                 <a href="https://github.com/sfroestl"
                        data-tooltip="Sebastian Fröstl"
                        data-tooltip-options="oneline">
                    <img src="img/credits/sebastian.jpg" alt="Sebastian Fröstl">
                </a>
                 <a href="https://github.com/k-lange"
                        data-tooltip="Kolja Lange"
                        data-tooltip-options="oneline">
                    <img src="img/credits/kolja.jpg" alt="Kolja Lange">
                </a>
                 <a href="https://github.com/timurc"
                        data-tooltip="Timur Çelikel"
                        data-tooltip-options="oneline">
                    <img src="img/credits/timur.jpg" alt="Timur Çelikel">
                </a>

            </div><div class="credits contribute">

                <h2>
                    <span>contribute</span>
                </h2>
                <a href="https://github.com/GulpFiction/gulpfiction"
                        data-tooltip="Contribute on Github"
                        data-tooltip-options="oneline">
                    <i class="fa fa-github"></i>
                </a>
                <div class="twitter"
                        data-tooltip="Tweet this!"
                        data-tooltip-options="oneline">
                    <i class="fa fa-twitter"></i>
                    <a href="https://twitter.com/share" class="twitter-share-button" data-url="http://ss14-team-275.divshot.io" data-text="Check out undefined by leitmotif" data-via="staticshowdown">Tweet</a>
                    <script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],p=/^http:/.test(d.location)?'http':'https';if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src=p+'://platform.twitter.com/widgets.js';fjs.parentNode.insertBefore(js,fjs);}}(document, 'script', 'twitter-wjs');</script>
                </div>
            </div>

        </lightbox>

        <lightbox is-active="showsDropboxExport" show-close="true">
            <h1>Want to use Dropbox? You're one smart motherfu<i class="fa fa-asterisk"></i><i class="fa fa-asterisk"></i><i class="fa fa-asterisk"></i>r.</h1>

            <h3>You can use Dropbox to auto-update your local gulpfile on save.</h3>

            <button ng-if="!isDropboxAuthenticated" ng-click="connectDb()" class="button"><i class="fa fa-dropbox"></i>
                <span>Connect to Dropbox</span>
            </button>

            <div ng-hide="!isDropboxAuthenticated">
                <p>Great, now you need to setup the link on your local filesystem. Open Terminal and switch to your project directory, then execute the following command to create a symbolic link:</p>
                <pre><code>$ ln -s ~/Dropbox/gulp-fiction/{{project.id}}.js gulpfile.js</code></pre>
                <p>Now hit save to export to Dropbox!</p>

                <div ng-if="showExportDone"><i class="fa fa-check"></i> Saved</div>

                <button style="font-size:2rem;" ng-show="isDropboxAuthenticated && !showExportProgress" ng-click="exportProjectToDropbox(project)" class="button">
                    <i class="fa fa-dropbox"></i> Save</button>

                <button ng-if="showExportProgress" disabled><i class="fa fa-spinner fa-spin" class="button"></i> Exporting…</button>
                &nbsp;

                <span ng-if="isDropboxAuthenticated"><button ng-click="logoutDropbox()" class="button"><i class="fa fa-sign-out"></i> Logout {{dbAccountInfo.display_name}}</button></span>


            </div>
        </lightbox>


        <lightbox is-active="showsExport" show-close="true" class="full-height" ng-init="tab = 'gulpfile'">
            <h1>Any time of the day is a good time for pie!</h1>
            <p>
                <button ng-click="tab = 'gulpfile'" class="button button-tab" ng-class="{'active':tab == 'gulpfile'}">gulpfile.js</button>
                <button ng-click="tab = 'package'" class="button button-tab" ng-class="{'active':tab == 'package'}">package.json</button>
            </p>
            <div ng-if="tab == 'gulpfile'" ui-ace readonly="true" ng-model="currentExportContent"></div>
            <div ng-if="tab == 'package'" ui-ace readonly="true" ng-model="currentExportContentPackage"></div>

        </lightbox>


        <confirm-lightbox   is-active="confirmDeleteProjectActive"
                            name="{{project.name}}"
                            custom-width="450"
                            on-confirm="removeProject(toDeleteItem)">
            <h1>Delete project {{name}}?</h1>
        </confirm-lightbox>

    </body>
</html>
